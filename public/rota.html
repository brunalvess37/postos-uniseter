<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Rota - Postos UNISETER</title>
<link rel="stylesheet" href="style.css">

<!-- Clerk AutenticaÃ§Ã£o -->
<script async crossorigin="anonymous"
src="https://cdn.jsdelivr.net/npm/@clerk/clerk-js@latest/dist/clerk.browser.js"
data-clerk-publishable-key="pk_test_bHVja3ktc3RpbmtidWctODUuY2xlcmsuYWNjb3VudHMuZGV2JA"></script>

<!-- ğŸ” BLOQUEIO PARA NÃƒO LOGADOS -->
<script>
document.addEventListener("DOMContentLoaded", async ()=>{
   const c = window.Clerk;
   await c.load();

   // Se nÃ£o estiver autenticado â†’ volta ao login
   if(!c.user) window.location.href = "/signin.html";
});
</script>

<script src="https://cdn.jsdelivr.net/npm/sortablejs@1.15.0/Sortable.min.js"></script>
<script src="pdfmake.min.js"></script>
<script src="vfs_fonts.js"></script>
<script src="pdf-rota.js"></script>
<script src="rota.js"></script>

</head>
<body>

<header>
  <button onclick="location='app.html'">â† Voltar</button>
  <h2>Rota â€” Postos UNISETER</h2>
</header>

<p id="rota-info"></p>
<div id="rota-lista"></div>

<hr>
<button onclick="toggleMapa()">ğŸ—º Mostrar / Ocultar Mapa</button>
<div id="mapa" style="height:0;overflow:hidden;transition:.4s"></div>

<hr>
<button onclick="ordenarRota()">ğŸ“ Otimizar rota</button>
<button onclick="salvarRota()">ğŸ’¾ Salvar</button>
<button onclick="limparRota()">ğŸ—‘ Limpar</button>
<button onclick="abrirNoWaze()">ğŸš— Abrir no Waze</button>
<button onclick="gerarPDFRota()">ğŸ“„ PDF da Rota</button>

</body>
</html>
