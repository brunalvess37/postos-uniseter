<!DOCTYPE html>
<html lang="pt-BR">
<head>

<meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate">
<meta http-equiv="Pragma" content="no-cache">
<meta http-equiv="Expires" content="0">

<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Postos UNISETER ‚Äî Buscar Postos</title>

<!-- Clerk -->
<script async crossorigin="anonymous"
src="https://cdn.jsdelivr.net/npm/@clerk/clerk-js@latest/dist/clerk.browser.js"
data-clerk-publishable-key="pk_test_bHVja3ktc3RpbmtidWctODUuY2xlcmsuYWNjb3VudHMuZGV2JA"></script>

<!-- BLOQUEIO DE ACESSO -->
<script>
document.addEventListener("DOMContentLoaded", async ()=>{
   const c = window.Clerk;
   await c.load();
   if(!c.user) return location.href="/signin.html";

   document.body.style.display = "block"; // libera tela ap√≥s login
});

async function sair(){
   const c = window.Clerk;
   await c.load();
   await c.signOut();
   location.href="/signin.html";
}
</script>

<link rel="stylesheet" href="style.css">

<!-- PDFs -->
<script src="pdfmake.min.js"></script>
<script src="vfs_fonts.js"></script>
<script src="pdf-geral.js"></script>

<style>
  body{
    display:none; /* anti-flash */
  }
</style>

</head>

<body>

<header style="display:flex;justify-content:space-between;align-items:center;">
  <h2>Postos UNISETER</h2>

  <div>
    <button onclick="location.href='home.html'"
      style="padding:6px 10px;border-radius:6px;border:1px solid #bbb;cursor:pointer;">
      ‚Üê Menu
    </button>

    <button onclick="sair()"
      style="padding:6px 10px;border-radius:6px;border:1px solid #bbb;cursor:pointer;">
      Sair
    </button>
  </div>
</header>

<div class="search-box">
  <input id="search" type="text" placeholder="Buscar posto...">
  <div id="suggestions"></div>
</div>

<div id="details"></div>

<br>
<button onclick="gerarPDFGeral()">üìÑ Gerar PDF Geral de Todos os Postos</button>

<!-- ‚ö†Ô∏è app.js SEMPRE por √∫ltimo -->
<script src="app.js?v=202501"></script>

</body>
</html>
